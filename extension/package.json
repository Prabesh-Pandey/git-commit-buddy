{
  "name": "git-autopush-on-save",
  "displayName": "Git AutoPush on Save",
  "description": "AI-powered automatic git commits with gamification, streak tracking, and one-click undo. Press Ctrl+S to commit with AI-generated messages.",
  "publisher": "local",
  "repository": {
    "type": "git",
    "url": "https://github.com/local/git-autopush-on-save.git"
  },
  "version": "1.0.0",
  "engines": {"vscode": "^1.60.0"},
  "categories": ["Other", "SCM Providers"],
  "keywords": ["git", "commit", "autopush", "ai", "deepseek", "productivity", "automation"],
  "contributes": {
    "commands": [
      {
        "command": "git-autopush.toggleAutoCommit",
        "title": "Git AutoPush: Toggle Auto Commit"
      },
      {
        "command": "git-autopush.toggleAutoPush",
        "title": "Git AutoPush: Toggle Auto Push"
      },
      {
        "command": "git-autopush.setApiKey",
        "title": "Git AutoPush: Set AI API Key"
      },
      {
        "command": "git-autopush.generateMessage",
        "title": "Git AutoPush: Generate Commit Message (AI)"
      },
      {
        "command": "git-autopush.debugDeepseek",
        "title": "Git AutoPush: Debug AI Response"
      },
      {
        "command": "git-autopush.runOnce",
        "title": "Git AutoPush: Run Once Now"
      },
      {
        "command": "git-autopush.pause",
        "title": "Git AutoPush: Pause/Resume"
      },
      {
        "command": "git-autopush.saveAndRun",
        "title": "Git AutoPush: Save & Commit (Ctrl+S)"
      },
      {
        "command": "git-autopush.showQuickActions",
        "title": "Git AutoPush: Quick Actions Menu"
      },
      {
        "command": "git-autopush.showStats",
        "title": "Git AutoPush: View Stats & Achievements"
      },
      {
        "command": "git-autopush.showHistory",
        "title": "Git AutoPush: View Commit History"
      },
      {
        "command": "git-autopush.undoLastCommit",
        "title": "Git AutoPush: Undo Last Commit"
      }
    ],
    "keybindings": [
      {
        "command": "git-autopush.saveAndRun",
        "key": "ctrl+s",
        "when": "editorTextFocus"
      }
    ],
    "configuration": {
      "title": "Git AutoPush",
      "properties": {
        "gitAutopush.autoCommit": {
          "type": "boolean",
          "default": false,
          "description": "Enable automatic commits on save (opt-in)."
        },
        "gitAutopush.autoPush": {
          "type": "boolean",
          "default": false,
          "description": "Enable automatic push after commit (opt-in)."
        },
        "gitAutopush.dryRun": {
          "type": "boolean",
          "default": true,
          "description": "When true, actions are logged but not executed. Safe default."
        },
        "gitAutopush.scriptPath": {
          "type": "string",
          "default": "${workspaceFolder}/git-autopush.sh",
          "description": "Path to the `git-autopush.sh` script to run."
        },
        "gitAutopush.watchGlobs": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["**/*.{py,js,ts,md,json,txt,jsx,tsx,css,html}"],
          "description": "Glob patterns of files to watch for saves."
        },
        "gitAutopush.protectedBranches": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["main", "master", "production"],
          "description": "Branches where auto-push is disabled by default."
        },
        "gitAutopush.sensitiveFileGlobs": {
          "type": "array",
          "items": { "type": "string" },
          "default": [".env", "*.key", "credentials.json", "*.pem", "*.secret"],
          "description": "File globs that must never be auto-committed."
        },
        "gitAutopush.useEmoji": {
          "type": "boolean",
          "default": true,
          "description": "Include emojis in AI-generated commit messages."
        },
        "gitAutopush.showStatsInStatusBar": {
          "type": "boolean",
          "default": true,
          "description": "Show commit streak in status bar."
        },
        "gitAutopush.ai.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable AI-generated commit messages."
        },
        "gitAutopush.ai.provider": {
          "type": "string",
          "default": "deepseek",
          "enum": ["deepseek"],
          "description": "AI provider for commit messages."
        },
        "gitAutopush.ai.apiKey": {
          "type": "string",
          "default": "",
          "description": "OpenRouter API key (sk-or-...). Get yours at https://openrouter.ai/keys",
          "scope": "machine"
        },
        "gitAutopush.ai.deepseekApiKey": {
          "type": "string",
          "default": "",
          "description": "[DEPRECATED] Use gitAutopush.ai.apiKey instead.",
          "scope": "machine",
          "deprecationMessage": "Use gitAutopush.ai.apiKey instead"
        },
        "gitAutopush.ai.deepseekModel": {
          "type": "string",
          "default": "google/gemini-2.0-flash-exp:free",
          "description": "AI model to use. Recommended: google/gemini-2.0-flash-exp:free (free & fast) or deepseek/deepseek-chat (accurate)"
        },
        "gitAutopush.ai.generateCommitMessage": {
          "type": "boolean",
          "default": true,
          "description": "Generate commit messages via AI (requires API key)."
        },
        "gitAutopush.ai.reviewBeforeCommit": {
          "type": "boolean",
          "default": true,
          "description": "Review AI message before committing."
        }
      }
    }
  },
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "scripts": {
    "vscode:prepublish": "echo 'Using pre-compiled JavaScript runtime'",
    "compile": "echo 'Using pre-compiled JavaScript runtime'",
    "build": "echo 'Using pre-compiled JavaScript runtime'",
    "watch": "echo 'Using pre-compiled JavaScript runtime'"
  },
  "devDependencies": {
    "typescript": "^4.4.3",
    "@types/node": "^14.14.37",
    "@types/vscode": "^1.60.0",
    "@types/minimatch": "^5.0.0"
  },
  "dependencies": {
    "minimatch": "^5.1.0"
  }
}
